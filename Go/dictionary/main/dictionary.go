package main

import (
	"bufio"
	"fmt"
	"io"
	"log"
	"net/http"
	"os"
	"strings"
)

func main() {
	fmt.Println("请输入单词：")
	reader := bufio.NewReader(os.Stdin)
	input, err := reader.ReadString('\n')
	if err != nil {
		fmt.Println("An error occured while reading input. Please try again.", err)
	}
	input = strings.TrimSpace(input)

	client := &http.Client{}
	var data = strings.NewReader(`kw=head`)
	req, err := http.NewRequest("POST", "https://fanyi.baidu.com/sug", data)
	if err != nil {
		log.Fatal(err)
	}
	req.Header.Set("Accept", "application/json, text/javascript, */*; q=0.01")
	req.Header.Set("Accept-Language", "zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6")
	req.Header.Set("Connection", "keep-alive")
	req.Header.Set("Content-Type", "application/x-www-form-urlencoded; charset=UTF-8")
	req.Header.Set("Cookie", "BIDUPSID=A7433D4D8EECB866BF8616AFADF29926; PSTM=1680092540; BAIDUID=A7433D4D8EECB86677EFACF83F5F8F21:FG=1; H_WISE_SIDS=219946_234020_216851_213357_219942_213039_204914_230288_110085_227870_236312_243706_243873_244252_244731_240590_245411_247631_249060_247585_249909_250137_247148_250738_251067_251091_248246_252640_249892_252580_252961_247386_234295_253463_253480_253693_253516_252306_254422_254472_254592_252647_254261_254730_250606_248124_254685_254747_244957_251785_236538_253213_255289_255294_253426_255413_251133_254765_255649_255937_255933_255957_234484_255965_251058_254076_255890_107320_256062_256094_256096_255681_248697_256125_254075_256083_255803_253993_256115_255660_256316_254833_256318_256025_229154_255175_256393_256220_245043_253900_256223; APPGUIDE_10_0_2=1; REALTIME_TRANS_SWITCH=1; FANYI_WORD_SWITCH=1; HISTORY_SWITCH=1; SOUND_SPD_SWITCH=1; SOUND_PREFER_SWITCH=1; H_WISE_SIDS_BFESS=219946_234020_216851_213357_219942_213039_204914_230288_110085_227870_236312_243706_243873_244252_244731_240590_245411_247631_249060_247585_249909_250137_247148_250738_251067_251091_248246_252640_249892_252580_252961_247386_234295_253463_253480_253693_253516_252306_254422_254472_254592_252647_254261_254730_250606_248124_254685_254747_244957_251785_236538_253213_255289_255294_253426_255413_251133_254765_255649_255937_255933_255957_234484_255965_251058_254076_255890_107320_256062_256094_256096_255681_248697_256125_254075_256083_255803_253993_256115_255660_256316_254833_256318_256025_229154_255175_256393_256220_245043_253900_256223; BDUSS=Up5U3NBUDBaWkc5TFl2OVVlUEtYVUEza1U0d2QwTzJLSW4xVHJodGdJR09iR3RrRVFBQUFBJCQAAAAAAAAAAAEAAAB6UjVctuCz1LqrNjYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAI7fQ2SO30Nke; BDUSS_BFESS=Up5U3NBUDBaWkc5TFl2OVVlUEtYVUEza1U0d2QwTzJLSW4xVHJodGdJR09iR3RrRVFBQUFBJCQAAAAAAAAAAAEAAAB6UjVctuCz1LqrNjYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAI7fQ2SO30Nke; DOUBLE_LANG_SWITCH=1; BDORZ=FFFB88E999055A3F8A630C64834BD6D0; BAIDUID_BFESS=A7433D4D8EECB86677EFACF83F5F8F21:FG=1; ZFY=jWHVY:AlYyAYAhBX8xg4vXzefmmcwslDkEBV1cnCPY2Y:C; Hm_lvt_64ecd82404c51e03dc91cb9e8c025574=1683451033,1683554705,1684576671,1684598431; BDRCVFR[gxANt_utyff]=mk3SLVN4HKm; delPer=0; PSINO=2; H_PS_PSSID=; BA_HECTOR=800ga1852h2h812k24210hch1i6jdgs1m; Hm_lpvt_64ecd82404c51e03dc91cb9e8c025574=1684649541; ab_sr=1.0.1_NWIzNjRkYzEwYTQ1ZDI5M2I2ZDY1YWVjNDRhZTMwNmVkZGFhOTFmY2Q3ZWEwY2UxNjZiZTg0NDlmNGY0YWM1ODVhYTdhOTk5YTk0ODRiMTQyNmQ1MDNjMWM1ODlhMTkyYmU1YTZiY2IyNGU2YzZiZjNmYWJlNTY2YWE2MGVjZTI3YmQ4ZDM4M2M4NDBlNDY5MDliZWJiNTY2OTU0NzE5MzFmZDFkOWQxNjVjMWVmMTI2ZDI1NGMwMjg3YzZkMzJh")
	req.Header.Set("DNT", "1")
	req.Header.Set("Origin", "https://fanyi.baidu.com")
	req.Header.Set("Referer", "https://fanyi.baidu.com/")
	req.Header.Set("Sec-Fetch-Dest", "empty")
	req.Header.Set("Sec-Fetch-Mode", "cors")
	req.Header.Set("Sec-Fetch-Site", "same-origin")
	req.Header.Set("User-Agent", "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 Edg/115.0.0.0")
	req.Header.Set("X-Requested-With", "XMLHttpRequest")
	req.Header.Set("sec-ch-ua", `"Not/A)Brand";v="99", "Microsoft Edge";v="115", "Chromium";v="115"`)
	req.Header.Set("sec-ch-ua-mobile", "?0")
	req.Header.Set("sec-ch-ua-platform", `"Windows"`)
	resp, err := client.Do(req)
	if err != nil {
		log.Fatal(err)
	}
	defer resp.Body.Close()
	bodyText, err := io.ReadAll(resp.Body)
	if err != nil {
		log.Fatal(err)
	}
	fmt.Printf("%s\n", bodyText)
}
